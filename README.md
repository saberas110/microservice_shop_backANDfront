# 🛍️ Microservice Shop (Django + React + JWT Auth)

این پروژه یک **فروشگاه اینترنتی** با معماری میکروسرویس است که شامل بخش‌های بک‌اند (Django) و فرانت‌اند (React + Tailwind) می‌باشد. هدف از ساخت این پروژه، پیاده‌سازی یک سیستم واقعی و قابل‌استفاده برای مدیریت کاربران، محصولات و خرید آنلاین است.

---

## ✨ ویژگی‌ها

### 🔹 بک‌اند (Microservices with Django)

* معماری **Microservice** شامل:

  * **User Service**: مدیریت کاربران، احراز هویت و JWT
  * **Product Service**: مدیریت محصولات، دسته‌بندی‌ها، سفارش‌ها
* احراز هویت با:

  * **JWT** (امضا با کلید خصوصی در User Service و اعتبارسنجی با کلید عمومی در Product Service)
  * **HTTP-only Cookie** برای امنیت بیشتر
* Middleware اختصاصی برای خواندن توکن از کوکی و اضافه کردن آن به هدر درخواست‌ها
* کنترل دسترسی‌ها در بک‌اند بر اساس مجوزهای کاربر
* ثبت سفارش و اتصال به درگاه بانکی

---

### 🔹 فرانت‌اند (React + TailwindCSS)

* **ثبت‌نام با شماره تلفن و OTP**

  * ارسال کد به شماره کاربر
  * وارد کردن رمز عبور و تکمیل ثبت‌نام
  * لاگین با شماره و رمز عبور
* مدیریت وضعیت ورود:

  * ذخیره JWT در **کوکی**
  * ذخیره اطلاعات و تاریخ انقضا در **localStorage**
  * بررسی دسترسی‌ها هم در فرانت‌اند و هم در بک‌اند
* **نمایش محصولات با دسته‌بندی** (پیش‌فرض: موبایل‌ها)

  * مدیریت مدل‌ها، رنگ‌ها، رم، حافظه و قیمت‌های متفاوت هر محصول
* **صفحه محصول**:

  * گالری تصاویر با اسکرول و انتخاب
  * انتخاب رنگ محصول با دایره‌های رنگی
  * افزودن به سبد خرید و مدیریت تعداد/رنگ
  * بخش نظرات و امتیازدهی (نیازمند لاگین)
* **سبد خرید**:

  * ذخیره در localStorage (بدون نیاز به لاگین)
  * نمایش محصولات، تعداد، رنگ و قیمت کل به‌صورت لحظه‌ای
  * هدایت به صفحه ثبت سفارش → انتخاب آدرس → پرداخت بانکی
* **پروفایل کاربر**:

  * ویرایش اطلاعات
  * مدیریت آدرس‌ها
  * محصولات ذخیره‌شده (علاقه‌مندی‌ها)
  * مشاهده سفارش‌ها
  * خروج از حساب
* **نوبار(navbar)**:

  * جستجو با پیشنهادات لحظه‌ای
  * دسته‌بندی‌های تو‌در‌تو
  * دکمه‌های ثبت‌نام/ورود (تبدیل به پروفایل پس از لاگین)

---

## ⚙️ تکنولوژی‌ها

* **Backend**: Django, Django REST Framework
* **Auth**: JWT (RSA), HTTP-only Cookies, CSRF Token
* **Frontend**: React, TailwindCSS
* **Database**: (قابل تنظیم: SQLite/PostgreSQL/MySQL)
* **Others**: LocalStorage for cart & user data

---

## 🚀 راه‌اندازی پروژه

### 1️⃣ پیش‌نیازها

* Python 3.10+
* Node.js 18+
* نصب پکیج‌های Django و React

### 2️⃣ کلیدهای JWT

برای اجرای سرویس‌ها باید کلیدهای خصوصی و عمومی تنظیم شوند:

* در **User Service** مسیر:

  ```
  BASE_DIR/config/keys
  ```

  شامل:

  * private.pem
  * public.pem

* در **Product Service** مسیر:

  ```
  BASE_DIR/config/keys
  ```

  شامل:

  * public.pem

### 3️⃣ اجرای بک‌اند

```bash
cd user_service
python manage.py migrate
python manage.py runserver
```

```bash
cd product_service
python manage.py migrate
python manage.py runserver
```

### 4️⃣ اجرای فرانت‌اند

```bash
cd frontend
npm install
npm start
```

---

## 📸 دموی قابلیت‌ها

* ثبت‌نام با OTP
* مدیریت محصولات با رنگ، مدل و قیمت‌های متفاوت
* سبد خرید با LocalStorage
* جستجوی زنده محصولات
* گالری تصاویر پیشرفته در صفحه محصول

---

## 🎯 هدف پروژه

این پروژه برای تمرین و نمایش توانایی در:

* طراحی **معماری میکروسرویسی**
* پیاده‌سازی **JWT Auth با RSA و کوکی**
* توسعه **Frontend مدرن با React + Tailwind**
* مدیریت وضعیت کاربر و داده‌ها بین **فرانت و بک‌اند**
  ایجاد شده است و می‌تواند به‌عنوان بخشی از رزومه استفاده شود.
